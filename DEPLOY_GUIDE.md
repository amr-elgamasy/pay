# Ø¯Ù„ÙŠÙ„ Ù†Ø´Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹ ğŸš€

## Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¥Ø¹Ø¯Ø§Ø¯ Google Sheets

### Ø£) Ø¥Ù†Ø´Ø§Ø¡ Google Sheet Ø¬Ø¯ÙŠØ¯
1. Ø§ÙØªØ­ [Google Sheets](https://sheets.google.com)
2. Ø§Ø¶ØºØ· "Blank" Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯
3. Ø³ÙÙ…ÙÙ‘ Ø§Ù„Ù…Ù„Ù: **ÙÙ„ÙˆØ³Ù†Ø§ - Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**

### Ø¨) Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø£ÙˆØ±Ø§Ù‚ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
Ø£Ù†Ø´Ø¦ 6 Ø£ÙˆØ±Ø§Ù‚ (Sheets) ÙÙŠ Ù†ÙØ³ Ø§Ù„Ù…Ù„Ù:

1. **Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª_Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©**
2. **Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª_Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„Ø©**
3. **Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª_Ø§Ù„Ù…Ø±ÙÙˆØ¶Ø©**
4. **Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª**
5. **Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª_Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©**
6. **Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª_Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„Ø©**

### Ø¬) Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© ÙÙŠ ÙƒÙ„ ÙˆØ±Ù‚Ø©

**ÙÙŠ ÙˆØ±Ù‚Ø© Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª_Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©:**
```
ID | Ø§Ù„ØªØ§Ø±ÙŠØ® | Ø§Ù„Ø§Ø³Ù… | Ø§Ù„Ù‡Ø§ØªÙ | Ø§Ù„Ù…Ø¨Ù„Øº | Ø§Ù„Ø­Ø§Ù„Ø© | Ø§Ù„ØµÙˆØ±Ø©
```

**ÙÙŠ ÙˆØ±Ù‚Ø© Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª_Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„Ø©:**
```
ID | Ø§Ù„ØªØ§Ø±ÙŠØ® | Ø§Ù„Ø§Ø³Ù… | Ø§Ù„Ù‡Ø§ØªÙ | Ø§Ù„Ù…Ø¨Ù„Øº | ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©
```

**ÙÙŠ ÙˆØ±Ù‚Ø© Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª_Ø§Ù„Ù…Ø±ÙÙˆØ¶Ø©:**
```
ID | Ø§Ù„ØªØ§Ø±ÙŠØ® | Ø§Ù„Ø§Ø³Ù… | Ø§Ù„Ù‡Ø§ØªÙ | Ø§Ù„Ù…Ø¨Ù„Øº | ØªØ§Ø±ÙŠØ® Ø§Ù„Ø±ÙØ¶
```

**ÙÙŠ ÙˆØ±Ù‚Ø© Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª:**
```
ID | Ø§Ù„ØªØ§Ø±ÙŠØ® | Ø§Ù„ÙˆØµÙ | Ø§Ù„ÙØ¦Ø© | Ø§Ù„Ù…Ø¨Ù„Øº
```

**ÙÙŠ ÙˆØ±Ù‚Ø© Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª_Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©:**
```
ID | Ø§Ù„ØªØ§Ø±ÙŠØ® | Ø§Ù„Ø§Ø³Ù… | Ø§Ù„Ù‡Ø§ØªÙ | Ø§Ù„Ù…Ø¨Ù„Øº | Ø§Ù„Ø³Ø¨Ø¨ | Ø§Ù„Ø­Ø§Ù„Ø©
```

**ÙÙŠ ÙˆØ±Ù‚Ø© Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª_Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„Ø©:**
```
ID | Ø§Ù„ØªØ§Ø±ÙŠØ® | Ø§Ù„Ø§Ø³Ù… | Ø§Ù„Ù‡Ø§ØªÙ | Ø§Ù„Ù…Ø¨Ù„Øº | Ø§Ù„Ø³Ø¨Ø¨ | ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©
```

---

## Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø¥Ù†Ø´Ø§Ø¡ Google Apps Script

### Ø£) ÙØªØ­ Ù…Ø­Ø±Ø± Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª
1. Ù…Ù† Google SheetØŒ Ø§Ø¶ØºØ· **Extensions** > **Apps Script**
2. Ø§Ø­Ø°Ù Ø£ÙŠ ÙƒÙˆØ¯ Ù…ÙˆØ¬ÙˆØ¯
3. Ø§Ù„ØµÙ‚ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ØªØ§Ù„ÙŠ:

```javascript
function doGet(e) {
  return ContentService.createTextOutput(JSON.stringify({status: 'ok'}))
    .setMimeType(ContentService.MimeType.JSON);
}

function doPost(e) {
  try {
    const data = JSON.parse(e.postData.contents);
    const action = data.action;
    
    if (action === 'getAll') {
      return getAllData();
    } else if (action === 'addDeposit') {
      return addDeposit(data);
    } else if (action === 'updateDepositStatus') {
      return updateDepositStatus(data);
    } else if (action === 'addExpense') {
      return addExpense(data);
    } else if (action === 'addWithdrawal') {
      return addWithdrawal(data);
    } else if (action === 'updateWithdrawalStatus') {
      return updateWithdrawalStatus(data);
    } else if (action === 'deleteDeposit') {
      return deleteDeposit(data);
    } else if (action === 'deleteExpense') {
      return deleteExpense(data);
    } else if (action === 'deleteWithdrawal') {
      return deleteWithdrawal(data);
    }
    
    return createResponse({status: 'error', message: 'Unknown action'});
  } catch (error) {
    return createResponse({status: 'error', message: error.toString()});
  }
}

function createResponse(data) {
  return ContentService.createTextOutput(JSON.stringify(data))
    .setMimeType(ContentService.MimeType.JSON);
}

function getAllData() {
  const ss = SpreadsheetApp.getActiveSpreadsheet();
  
  const deposits = readSheet(ss, 'Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª_Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©')
    .concat(readSheet(ss, 'Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª_Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„Ø©'))
    .concat(readSheet(ss, 'Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª_Ø§Ù„Ù…Ø±ÙÙˆØ¶Ø©'));
  
  const expenses = readSheet(ss, 'Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª');
  
  const withdrawals = readSheet(ss, 'Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª_Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©')
    .concat(readSheet(ss, 'Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª_Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„Ø©'));
  
  return createResponse({
    status: 'success',
    data: {
      deposits: deposits,
      expenses: expenses,
      withdrawals: withdrawals
    }
  });
}

function readSheet(ss, sheetName) {
  const sheet = ss.getSheetByName(sheetName);
  if (!sheet) return [];
  
  const data = sheet.getDataRange().getValues();
  if (data.length <= 1) return [];
  
  const headers = data[0];
  const rows = data.slice(1);
  
  return rows.map(row => {
    const obj = {};
    headers.forEach((header, index) => {
      obj[header] = row[index];
    });
    return obj;
  });
}

function addDeposit(data) {
  const ss = SpreadsheetApp.getActiveSpreadsheet();
  const sheet = ss.getSheetByName('Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª_Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©');
  
  sheet.appendRow([
    data.ID,
    data.Ø§Ù„ØªØ§Ø±ÙŠØ®,
    data.Ø§Ù„Ø§Ø³Ù…,
    data.Ø§Ù„Ù‡Ø§ØªÙ,
    data.Ø§Ù„Ù…Ø¨Ù„Øº,
    'Ù…Ø¹Ù„Ù‚',
    data.Ø§Ù„ØµÙˆØ±Ø© || ''
  ]);
  
  return createResponse({status: 'success'});
}

function updateDepositStatus(data) {
  const ss = SpreadsheetApp.getActiveSpreadsheet();
  const pendingSheet = ss.getSheetByName('Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª_Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©');
  const targetSheet = data.Ø§Ù„Ø­Ø§Ù„Ø© === 'approved' 
    ? ss.getSheetByName('Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª_Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„Ø©')
    : ss.getSheetByName('Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª_Ø§Ù„Ù…Ø±ÙÙˆØ¶Ø©');
  
  const pendingData = pendingSheet.getDataRange().getValues();
  
  for (let i = 1; i < pendingData.length; i++) {
    if (pendingData[i][0] == data.ID) {
      targetSheet.appendRow([
        pendingData[i][0],
        pendingData[i][1],
        pendingData[i][2],
        pendingData[i][3],
        pendingData[i][4],
        new Date().toLocaleDateString('ar-EG')
      ]);
      
      pendingSheet.deleteRow(i + 1);
      break;
    }
  }
  
  return createResponse({status: 'success'});
}

function addExpense(data) {
  const ss = SpreadsheetApp.getActiveSpreadsheet();
  const sheet = ss.getSheetByName('Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª');
  
  sheet.appendRow([
    data.ID,
    data.Ø§Ù„ØªØ§Ø±ÙŠØ®,
    data.Ø§Ù„ÙˆØµÙ,
    data.Ø§Ù„ÙØ¦Ø©,
    data.Ø§Ù„Ù…Ø¨Ù„Øº
  ]);
  
  return createResponse({status: 'success'});
}

function addWithdrawal(data) {
  const ss = SpreadsheetApp.getActiveSpreadsheet();
  const sheet = ss.getSheetByName('Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª_Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©');
  
  sheet.appendRow([
    data.ID,
    data.Ø§Ù„ØªØ§Ø±ÙŠØ®,
    data.Ø§Ù„Ø§Ø³Ù…,
    data.Ø§Ù„Ù‡Ø§ØªÙ,
    data.Ø§Ù„Ù…Ø¨Ù„Øº,
    data.Ø§Ù„Ø³Ø¨Ø¨,
    'Ù…Ø¹Ù„Ù‚'
  ]);
  
  return createResponse({status: 'success'});
}

function updateWithdrawalStatus(data) {
  const ss = SpreadsheetApp.getActiveSpreadsheet();
  const pendingSheet = ss.getSheetByName('Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª_Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©');
  
  if (data.Ø§Ù„Ø­Ø§Ù„Ø© === 'approved') {
    const targetSheet = ss.getSheetByName('Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª_Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„Ø©');
    const pendingData = pendingSheet.getDataRange().getValues();
    
    for (let i = 1; i < pendingData.length; i++) {
      if (pendingData[i][0] == data.ID) {
        targetSheet.appendRow([
          pendingData[i][0],
          pendingData[i][1],
          pendingData[i][2],
          pendingData[i][3],
          pendingData[i][4],
          pendingData[i][5],
          new Date().toLocaleDateString('ar-EG')
        ]);
        
        pendingSheet.deleteRow(i + 1);
        break;
      }
    }
  }
  
  return createResponse({status: 'success'});
}

function deleteDeposit(data) {
  const ss = SpreadsheetApp.getActiveSpreadsheet();
  const sheets = ['Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª_Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©', 'Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª_Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„Ø©', 'Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª_Ø§Ù„Ù…Ø±ÙÙˆØ¶Ø©'];
  
  for (const sheetName of sheets) {
    const sheet = ss.getSheetByName(sheetName);
    const sheetData = sheet.getDataRange().getValues();
    
    for (let i = 1; i < sheetData.length; i++) {
      if (sheetData[i][0] == data.ID) {
        sheet.deleteRow(i + 1);
        return createResponse({status: 'success'});
      }
    }
  }
  
  return createResponse({status: 'error', message: 'Not found'});
}

function deleteExpense(data) {
  const ss = SpreadsheetApp.getActiveSpreadsheet();
  const sheet = ss.getSheetByName('Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª');
  const sheetData = sheet.getDataRange().getValues();
  
  for (let i = 1; i < sheetData.length; i++) {
    if (sheetData[i][0] == data.ID) {
      sheet.deleteRow(i + 1);
      return createResponse({status: 'success'});
    }
  }
  
  return createResponse({status: 'error', message: 'Not found'});
}

function deleteWithdrawal(data) {
  const ss = SpreadsheetApp.getActiveSpreadsheet();
  const sheets = ['Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª_Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©', 'Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª_Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„Ø©'];
  
  for (const sheetName of sheets) {
    const sheet = ss.getSheetByName(sheetName);
    const sheetData = sheet.getDataRange().getValues();
    
    for (let i = 1; i < sheetData.length; i++) {
      if (sheetData[i][0] == data.ID) {
        sheet.deleteRow(i + 1);
        return createResponse({status: 'success'});
      }
    }
  }
  
  return createResponse({status: 'error', message: 'Not found'});
}
```

### Ø¨) Ù†Ø´Ø± Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª
1. Ø§Ø¶ØºØ· **Deploy** > **New deployment**
2. Ø§Ø®ØªØ± Ù†ÙˆØ¹: **Web app**
3. Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª:
   - **Execute as**: Me
   - **Who has access**: Anyone
4. Ø§Ø¶ØºØ· **Deploy**
5. **Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·** (Web app URL) - Ø³ØªØ­ØªØ§Ø¬Ù‡!

---

## Ø§Ù„Ø®Ø·ÙˆØ© 3: Ù†Ø´Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¹Ù„Ù‰ GitHub Pages

### Ø£) ØªØ­Ø¯ÙŠØ« Ø±Ø§Ø¨Ø· Google Sheets ÙÙŠ Ø§Ù„Ù…ÙˆÙ‚Ø¹
1. Ø§ÙØªØ­ Ù…Ù„Ù `index.html`
2. Ø§Ø¨Ø­Ø« Ø¹Ù† `GOOGLE_SHEETS_URL`
3. Ø§Ù„ØµÙ‚ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø°ÙŠ Ù†Ø³Ø®ØªÙ‡

### Ø¨) Ø±ÙØ¹ Ø§Ù„ÙƒÙˆØ¯ Ø¹Ù„Ù‰ GitHub
```bash
git add .
git commit -m "ØªÙØ¹ÙŠÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Google Sheets"
git push origin main
```

### Ø¬) ØªÙØ¹ÙŠÙ„ GitHub Pages
1. Ø§ÙØªØ­ Ø§Ù„Ø±ÙŠØ¨Ùˆ Ø¹Ù„Ù‰ GitHub: https://github.com/amr-elgamasy/pay
2. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ **Settings** > **Pages**
3. ÙÙŠ **Source** Ø§Ø®ØªØ±: **main** branch
4. Ø§Ø¶ØºØ· **Save**
5. Ø§Ù†ØªØ¸Ø± Ø¯Ù‚ÙŠÙ‚Ø© - Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø³ÙŠÙƒÙˆÙ† Ù…ØªØ§Ø­ Ø¹Ù„Ù‰:
   ```
   https://amr-elgamasy.github.io/pay/
   ```

---

## Ø§Ù„Ø®Ø·ÙˆØ© 4: Ø´Ø§Ø±Ùƒ Ø§Ù„Ø±Ø§Ø¨Ø·! ğŸ‰

Ø§Ù„Ø¢Ù† ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø§Ø¨Ø· Ù„Ø£ÙŠ Ø´Ø®Øµ:
```
https://amr-elgamasy.github.io/pay/
```

âœ… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø³ØªÙƒÙˆÙ† Ù…Ø´ØªØ±ÙƒØ© Ø¨ÙŠÙ† Ø§Ù„Ø¬Ù…ÙŠØ¹
âœ… ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ§Ù„ ÙˆØ§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±
âœ… Ù…Ø¬Ø§Ù†ÙŠ ØªÙ…Ø§Ù…Ø§Ù‹!

---

## Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©:

1. **Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ**: Google Sheets ÙŠØ­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ØŒ ÙˆÙŠÙ…ÙƒÙ†Ùƒ ØªÙ†Ø²ÙŠÙ„ Ù†Ø³Ø®Ø© Excel Ø£ÙŠ ÙˆÙ‚Øª
2. **Ø§Ù„Ø£Ù…Ø§Ù†**: ØºÙŠÙ‘Ø± ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ù…Ù† Ø§Ù„ÙƒÙˆØ¯
3. **Ø§Ù„Ø³Ø±Ø¹Ø©**: Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ù‡Ù†Ø§Ùƒ ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· (1-2 Ø«Ø§Ù†ÙŠØ©) Ù„Ø£Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø­Ø§Ø¨Ø©
4. **Ø§Ù„ØµÙˆØ±**: ØªÙØ­ÙØ¸ Ù…Ø¶ØºÙˆØ·Ø© Ù„ØªÙˆÙÙŠØ± Ø§Ù„Ù…Ø³Ø§Ø­Ø©

---

## Ø¥Ø°Ø§ ÙˆØ§Ø¬Ù‡Øª Ù…Ø´Ø§ÙƒÙ„:

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: "Authorization required"
**Ø§Ù„Ø­Ù„**: ÙÙŠ Apps ScriptØŒ Ø§Ø¶ØºØ· Run Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙˆÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø°ÙˆÙ†Ø§Øª

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø§ ØªØ¸Ù‡Ø±
**Ø§Ù„Ø­Ù„**: ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø£ÙˆØ±Ø§Ù‚ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ ØµØ­ÙŠØ­Ø© 100%

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù„Ø§ ÙŠÙØªØ­
**Ø§Ù„Ø­Ù„**: Ø§Ù†ØªØ¸Ø± 5 Ø¯Ù‚Ø§Ø¦Ù‚ Ø¨Ø¹Ø¯ ØªÙØ¹ÙŠÙ„ GitHub Pages
